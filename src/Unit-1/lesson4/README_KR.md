# Akka 시작하기 1-4 : Child Actors, Actor Hierarchies, and Supervision
이번 레슨은 코드베이스의 기능과 액터 모델이 어떻게 작동하는지 이해하는 데 있어 큰 도움을 줄 것입니다.
이번 레슨이 지금까지 중 가장 어려운 수업이니, 바로 시작합니다!

## Key concepts / background
액터 계층 구조에 대해 깊게 들어가기 전에 알아봅시다: 왜 우리는 계층 구조가 필요할까요?

계층 구조를 사용하는 두 가지 중요한 키 포인트가 있습니다:
1. 작업을 원자화하고 대용량 데이터를 처리하기 쉬운 양으로 변환하기 위해
2. 에러를 억제하고 시스템을 회복력 있게 만들기 위해

### 계층 구조의 원자화 작업
계층 구조를 가지는 것은 아주 작은 조각으로 작업을 쪼개고, 서로 다른 계층의 레벨에서 다른 전문 기술을 활용할 수 있게 합니다.

액터시스템에서 이것이 실현되는 일반적인 방법은 큰 데이터 스트림을 원자화 하는 것입니다. 그것이 작고 쉽게 처리할 만한 코드 조각이 될 때까지 계속 원자화를 반복합니다.

트위터를 예로 들어봅시다(JVM Akka의 사용자들). `Akka`를 사용하면 그들의 대용량 데이터 수집을 작고, 처리하기 쉬운 정보의 으름으로 분해할 수 있습니다.

트위터의 경우에는 거대한 소방호스를 통해 뿜어져 나오는 것 같은 트윗들을 각 유저들의 타임라인에 작은 물줄기 하나하나로 나누어 분산할 수 있고, `Akka`를 사용하여 해당 유저의 스트림으로 도착한 메시지를 websoket 등을 통해 푸시할 수도 있습니다. 

### 계층 구조를 통해 복원력 있는 시스템 지원
계층 구조를 사용함으로써 위험의 계층화와 전문화가 가능합니다.

군대가 어떻게 일하는지를 생각해 봅시다. 군대에서 장군은 전략을 세우고 감독하지만, 보통 가장 큰 전투의 최전선에 서지는 않습니다. 그러나 폭넓은 영향력을 가지고 모든 것을 지휘합니다. 동시에, 낮은 계급의 병사들은 최전선에 서서 그들이 받은 명령과 위험한 작전을 수행합니다.

이것은 `액터시스템`의 동작과 정확히 일치합니다.

상위 계층의 액터는 본질적으로 좀더 감독적(supervisional)며, 이러한 점은 액터시스템의 리스크를 낮추고 가장자리로 밀어냅니다. 계층의 가장자리로 위험한 작업을 밀어냄으로써 시스템은 리스크를 고립시키고 전체 시스템의 크래싱 없이 오류로부터 복구할 수 있습니다.

이 두 개념이 모두 중요하지만, 이번 레슨의 나머지 부분에서는 액터시스템이 계층 구조를 사용해서 복원력을 발휘할 방법에 중점을 두겠습니다.

어떻게 이룰거냐고요? `Supervision`.

### `Supervision` 이란? 왜 신경써야 하나?
`Supervsion`은 액터 시스템이 오류(failures)에서 빠르고 신속하게 격리와 회복이 이뤄질 수 있게 하는 기본 개념입니다. 모든 액터는 자신을 감독(supervision)하는 다른 액터를 가지고 있으며, 이 액터들은 에러가 발생했을 때 복구할 수 있도록 돕습니다. 이는 계층 구조의 최상단부터 최하단까지 모두에게 해당합니다.

이 `Supervision`은 애플리케이션이 예기치 않은 오류(unhandled exception, network timeout, etc.)가 발생할 경우, 액터 계층 구조에서 해당 계층에만 영향을 받도록 제어합니다.

모든 다른 액터들은 아무일도 없었던 것처럼 동작할 것입니다. 우리는 이것을 "failure isolation", "containment"라고 부릅니다.

어떻게 이게 이루어 질까요? 지금부터 알아봅시다.
